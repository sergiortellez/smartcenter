function buildData(e){var t=[];fetch(e).then(function(e){return e.json()}).then(e=>{t=e.values,buildCards(t),replaceGhosts(),cardHandler()})}function buildCards(e){class t{constructor(e){this.active=e[0],this.campus=e[1],this.category=e[2],this.title=e[3],this.description=e[4],this.start_date=e[5],this.end_date=e[6],this.modality=e[7],this.time=e[8],this.duration=e[9],this.location=e[10],this.url=e[11],this.speaker=e[12],this.tag_1=e[13],this.tag_2=e[14],this.tag_3=e[15],this.tag_4=e[16],this.link=e[17],this.emergency=e[18],this.id=e[19]}buildCard(){if("TRUE"==this.active){let e=createCard(this.category,this.id);e.appendChild(cardTitle(this.title));let t=document.createElement("hr");return e.appendChild(t),e.appendChild(eventData(this.start_date,this.end_date,this.duration,this.modality)),e.appendChild(eventLocation(this.location,this.campus,this.url)),e.appendChild(eventMore()),this.emergency&&e.appendChild(eventEmergency(this.emergency)),e.appendChild(eventHidden(this.description,this.time,this.speaker,this.tag_1,this.tag_2,this.tag_3,this.tag_4,this.link)),e}return null}}const a=e.map(e=>new t(e)),n=document.getElementById("events_grid");a.forEach(e=>{let t=e.buildCard();null!=t&&n.appendChild(t)})}function createCard(e,t){let a,n=document.createElement("article");switch(n.classList.add("event_card"),n.setAttribute("id",t),e){case"Meeting":a="meeting_card";break;case"Talent":a="talent_card";break;case"Advisory":a="advisory_card";break;case"Success":a="success_card";break;default:a=" "}return n.classList.add(a),n}function cardTitle(e){let t=document.createElement("div");t.classList.add("event_title");let a=document.createElement("i");a.classList.add("fa-duotone","fa-quote-left"),t.appendChild(a);let n=document.createElement("h4");n.textContent=e,t.appendChild(n);let d=document.createElement("i");return d.classList.add("fa-duotone","fa-quote-right"),t.appendChild(d),t}function eventData(e,t,a,n){let d=document.createElement("div");d.classList.add("event_data");let i=document.createElement("div"),s=document.createElement("i");s.classList.add("fa-duotone","fa-calendar-day"),i.appendChild(s);let l=document.createElement("span");if(l.textContent=t?e+" - "+t:e,i.appendChild(l),d.appendChild(i),a){let e=document.createElement("div");e.classList.add("event_duration");let t=document.createElement("i");t.classList.add("fa-duotone","fa-hourglass-start"),e.appendChild(t);let n=document.createElement("span");n.textContent=a+" hrs.",e.appendChild(n),d.appendChild(e)}let c=document.createElement("div");c.classList.add("event_type");let o=document.createElement("i");switch(n){case"Presencial":o.classList.add("fa-duotone","fa-user-group");break;case"En línea":o.classList.add("fa-duotone","fa-laptop");break;case"Híbrido":o.classList.add("fa-duotone","fa-laptop");let e=document.createElement("i");e.classList.add("fa-duotone","fa-user-group"),c.appendChild(e)}c.appendChild(o);let r=document.createElement("span");return r.textContent=n,c.appendChild(r),d.appendChild(c),d}function eventLocation(e,t,a){let n=document.createElement("div");if(n.classList.add("event_location"),e){let t=document.createElement("div");t.classList.add("event_link");let a=document.createElement("i");a.classList.add("fa-duotone","fa-location-dot"),t.appendChild(a);let d=document.createElement("span");d.textContent=e,t.appendChild(d),n.appendChild(t)}if(a){let e=document.createElement("div");e.classList.add("event_url");let t=document.createElement("i");t.classList.add("fa-duotone","fa-link"),e.appendChild(t);let d=document.createElement("a");d.setAttribute("href",a),d.setAttribute("target","_blank"),d.textContent="Acompáñanos",e.appendChild(d),n.appendChild(e)}let d=document.createElement("div");d.classList.add("event_campus");let i=document.createElement("i");i.classList.add("fa-duotone","fa-map-pin"),d.appendChild(i);let s=document.createElement("span");return s.textContent=t,d.appendChild(s),n.appendChild(d),n}function eventMore(){let e=document.createElement("div");e.classList.add("event_more");let t=document.createElement("button");t.classList.add("event_more_button");let a=document.createElement("span");a.textContent="más",t.appendChild(a);let n=document.createElement("i");return n.classList.add("fa-solid","fa-square-caret-down"),t.appendChild(n),e.appendChild(t),e}function eventEmergency(e){let t=document.createElement("div");t.classList.add("event_message");let a=document.createElement("i");a.classList.add("fa-duotone","fa-triangle-exclamation"),t.appendChild(a);let n=document.createElement("p");return n.textContent=e,t.appendChild(n),t}function eventHidden(e,t,a,n,d,i,s,l){let c=document.createElement("div");c.classList.add("event_hidden");let o=document.createElement("div");o.classList.add("event_description");let r=document.createElement("p");r.textContent=e,o.appendChild(r),c.appendChild(o);let u=document.createElement("div");u.classList.add("event_time");let m=document.createElement("i");m.classList.add("fa-duotone","fa-clock"),u.appendChild(m);let p=document.createElement("span");if(p.textContent=t,u.appendChild(p),c.appendChild(u),a){let e=document.createElement("div");e.classList.add("event_instructor");let t=document.createElement("i");t.classList.add("fa-solid","fa-podium"),e.appendChild(t);let n=document.createElement("span");n.textContent=a,e.appendChild(n),c.appendChild(e)}let h=document.createElement("div");h.classList.add("event_tags");let C=[n,d,i,s];if(C.forEach(e=>{if(e){let t=document.createElement("div");t.classList.add("tag"),t.textContent=e,h.appendChild(t)}}),c.appendChild(h),l){let e=document.createElement("div");e.classList.add("event_button");let t=document.createElement("a");t.setAttribute("href",l),t.setAttribute("target","_blank"),t.textContent="Inscripción",e.appendChild(t),c.appendChild(e)}return c}function replaceGhosts(){const e=document.getElementById("events_grid"),t=e.querySelectorAll(".tarjeta_fantasma");t.forEach(t=>{e.removeChild(t)})}function cardHandler(){const e=document.querySelector("#events_grid"),t=e.querySelectorAll(".event_more_button");t.forEach(e=>{e.addEventListener("click",()=>{const t=e.closest(".event_card"),a=t.querySelector(".event_hidden"),n=e.querySelector("span"),d=e.querySelector("svg");"0px"===a.style.maxHeight||""===a.style.maxHeight?(a.style.maxHeight="800px",n.innerHTML="menos",d.classList.remove("fa-square-caret-down"),d.classList.add("fa-square-caret-up"),t.style.maxHeight="fit-content"):(a.style.maxHeight="0px",n.innerHTML="más",d.classList.remove("fa-square-caret-up"),d.classList.add("fa-square-caret-down"),"fit-content"===t.style.maxHeight&&setTimeout(function(){t.style.maxHeight="24rem"},1e3))})})}const URLdata="https://sheets.googleapis.com/v4/spreadsheets/12s8z3DKqUWCre_FnzjAPDZKqOwrSW6WaiQ708cdeUvM/values/main!A1:T?key=AIzaSyDzdEQYUcSwjzEmZNZhYd2vh1E_P6ykPAY";window.onload=function(){buildData(URLdata)};