function getID(){let e=document.getElementById("search").value;buildData(URLdata,e),document.getElementById("search").value=""}function buildData(e,a){var t=[];fetch(e).then(function(e){return e.json()}).then(e=>{t=e.values,compareEntryData(t,a)})}function compareEntryData(e,a){let t=dataToArray(e),r=encriptadorId(a);if(-1!==t.indexOf(r)){let e="https://smartcenter.up.edu.mx/dpi/dpi.html?id="+r;window.open(e)}else alert("El alumno que estás buscando no está en nuestros registros")}function dataToArray(e){let a=[];for(let t=0;t<e.length;t++)a.push(e[t][0]);return a}function encriptadorId(e){let a=[];for(original=0;original<e.length;original++){let t;switch(e.charAt(original)){case"0":t="z",a.push(t);break;case"1":t="g",a.push(t);break;case"2":t="d",a.push(t);break;case"3":t="a",a.push(t);break;case"4":t="n",a.push(t);break;case"5":t="i",a.push(t);break;case"6":t="l",a.push(t);break;case"7":t="s",a.push(t);break;case"8":t="x",a.push(t);break;case"9":t="w",a.push(t);break;default:t=e.charAt(original),a.push(t)}}let t=a.join(""),r=llaveId(e),n=cifrarConLlave(t,r),o=encriptadoSeguroUrl(n);return console.log(o),o}function encriptadoSeguroUrl(e){var a=btoa(e),t=a.replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"");return t}function llaveId(e){let a=0;for(let t=e.length-2;t<e.length;t++){let r=parseInt(e.charAt(t),10);isNaN(r)?a+=0:a+=r}return a}function cifrarConLlave(e,a){return e.split("").map(function(e){if(e>="a"&&e<="z"){var t=(e.charCodeAt(0)-97+a)%26+97;return String.fromCharCode(t)}return e}).join("")}const URLdata="https://sheets.googleapis.com/v4/spreadsheets/1WAvF8Qs9s9EK6mAv1KY9hpGKxdFQ5V9myJpTjBkECIE/values/cdmx!A1:A?key=AIzaSyDzdEQYUcSwjzEmZNZhYd2vh1E_P6ykPAY";var searchBox=document.getElementById("search");searchBox.addEventListener("keydown",function(e){"Enter"===e.code&&getID(e)});