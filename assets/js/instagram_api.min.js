async function buildData(){try{const t=await fetch(endpoint),a=await t.json();if(!a.data)return void console.error("No data was returned from the API");var e=[];const n=a.data;for(const t of n){const a=t.media_type,n=t.caption;let i="";i="VIDEO"===t.media_type?t.thumbnail_url:t.media_url;const d=t.permalink,c=new Date(t.timestamp).toLocaleString("es-MX",{day:"numeric",month:"long",hour:"2-digit",minute:"2-digit"});let o=[a,n,i,d,c];e.push(o)}buildNews(e)}catch(e){console.error(e)}}function buildNews(e){let t=document.querySelector("#grid-news");t.innerHTML="",e.forEach(e=>{let a=document.createElement("blockquote");a.classList.add("insta-card");let n=document.createElement("a");n.setAttribute("href",e[3]),n.setAttribute("target","_blank"),a.append(n);let i=document.createElement("img");i.setAttribute("src",e[2]),n.append(i);let d=document.createElement("p");d.innerText=e[1],n.append(d);let c=document.createElement("div");c.classList.add("data-publication");let o=document.createElement("span");o.innerText=e[4],c.append(o);let s=document.createElement("i");s.classList.add("fa-solid"),"CAROUSEL_ALBUM"===e[0]?s.classList.add("fa-rectangle-vertical-history"):"VIDEO"===e[0]?s.classList.add("fa-video"):s.classList.add("fa-image"),c.append(s),n.append(c),t.append(a)})}const accessToken="IGQVJWbXg4OWQ1X0VKSHF5eURzLWYzT0NaNEFiUGhvazNXZAFEzWC1Jak1YVjdISHR0MUduNmdOOFJhMG9HM0RQaXJRRmY5RmZArSXhaTXZAwUms0dkkwXzFzTF9ueml5dUJScjExZAzVfR3FhSWV3REVEVQZDZD",limit=8,endpoint=`https://graph.instagram.com/me/media?fields=id,caption,media_type,media_url,thumbnail_url,permalink,timestamp,thumbnail_src,is_video,location&limit=${limit}&access_token=${accessToken}`;window.onload=function(){buildData()};