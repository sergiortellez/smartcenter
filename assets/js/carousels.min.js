function buildPrevButton(){let t=document.createElement("button");t.setAttribute("type","button"),t.classList.add("prev-button"),t.classList.add("hideButton");let e=document.createElement("i");return e.classList.add("fa-duotone"),e.classList.add("fa-square-left"),t.appendChild(e),t}function buildNextButton(){let t=document.createElement("button");t.setAttribute("type","button"),t.classList.add("next-button"),t.classList.add("showButton");let e=document.createElement("i");return e.classList.add("fa-duotone"),e.classList.add("fa-square-right"),t.appendChild(e),t}function buildCarouselItem(t,e,i){let n=document.createElement("button");n.classList.add("carousel-item"),n.setAttribute("type","button"),n.setAttribute("data-id",t);let o=document.createElement("img");o.setAttribute("alt","video Thumbnail"),o.setAttribute("src",i),e.length>45&&(e=e.substring(0,45).concat("..."));let s=document.createElement("figcaption");return s.innerText=e,n.appendChild(o),n.appendChild(s),n}function prevNextButtonActivate(t){function e(){t.scrollLeft+=l}function i(){t.scrollLeft-=l}function n(){0===t.scrollLeft?(s.classList.add("hideButton"),s.classList.remove("showButton")):(s.classList.remove("hideButton"),s.classList.add("showButton")),t.scrollLeft+t.offsetWidth>=t.scrollWidth?(o.classList.add("hideButton"),o.classList.remove("showButton")):(o.classList.remove("hideButton"),o.classList.add("showButton"))}let o=t.nextElementSibling,s=t.previousElementSibling,l=2*t.firstElementChild.offsetWidth;t.addEventListener("scroll",n),o.addEventListener("click",e),s.addEventListener("click",i)}function previewSelectorActivate(){var t=document.querySelectorAll(".carousel-item");t.forEach(t=>{function e(){let t="https://www.youtube.com/embed/"+i;videoPreview.src=t,window.innerWidth<=769&&videoPreview.scrollIntoView({behavior:"smooth"})}let i=t.getAttribute("data-id");t.addEventListener("click",e)})}var carouselsContainers=document.querySelectorAll(".carrousel_container");const videoPreview=document.querySelector("#previewVideo"),API_KEY="AIzaSyAY92qoSUcTrzZ669HLcAh-Mx9KBKKfePo";carouselsContainers.forEach(function(t){let e=t.getAttribute("data-id");const i=`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,contentDetails&maxResults=12&playlistId=${e}&key=${API_KEY}`;fetch(i).then(t=>t.json()).then(e=>{const i=e.items.map(t=>({id:t.snippet.resourceId.videoId,title:t.snippet.title,thumbnail:t.snippet.thumbnails.default.url}));let n=t.querySelector(".carousel");n.innerHTML=" ";let o=buildPrevButton();t.prepend(o);let s=buildNextButton();t.append(s),i.forEach(function(t){let e=buildCarouselItem(t.id,t.title,t.thumbnail);n.appendChild(e)}),prevNextButtonActivate(n),previewSelectorActivate(n)}).catch(t=>{console.error(t)})});