function buildPrevButton(){let t=document.createElement("button");t.setAttribute("type","button"),t.classList.add("prev-button"),t.classList.add("hideButton");let e=document.createElement("i");return e.classList.add("fa-duotone"),e.classList.add("fa-square-left"),t.appendChild(e),t}function buildNextButton(){let t=document.createElement("button");t.setAttribute("type","button"),t.classList.add("next-button"),t.classList.add("showButton");let e=document.createElement("i");return e.classList.add("fa-duotone"),e.classList.add("fa-square-right"),t.appendChild(e),t}function buildCarouselItem(t,e,n){let i=document.createElement("button");i.classList.add("carousel-item"),i.setAttribute("type","button"),i.setAttribute("data-id",t);let o=document.createElement("img");o.setAttribute("alt","video Thumbnail"),o.setAttribute("src",n),e.length>45&&(e=e.substring(0,45).concat("..."));let l=document.createElement("figcaption");return l.innerText=e,i.appendChild(o),i.appendChild(l),i}function prevNextButtonActivate(){var t=document.querySelectorAll(".carousel");document.querySelectorAll(".carousel-item");t.forEach(t=>{function e(){t.scrollLeft+=s}function n(){t.scrollLeft-=s}function i(){0===t.scrollLeft?(l.classList.add("hideButton"),l.classList.remove("showButton")):(l.classList.remove("hideButton"),l.classList.add("showButton")),t.scrollLeft+t.offsetWidth>=t.scrollWidth?(o.classList.add("hideButton"),o.classList.remove("showButton")):(o.classList.remove("hideButton"),o.classList.add("showButton"))}let o=t.nextElementSibling,l=t.previousElementSibling,s=2*t.firstElementChild.offsetWidth;t.addEventListener("scroll",i),o.addEventListener("click",e),l.addEventListener("click",n)})}function previewSelectorActivate(){var t=document.querySelectorAll(".carousel-item");t.forEach(t=>{function e(){let t="https://www.youtube.com/embed/"+n;videoPreview.src=t,window.innerWidth<=769&&videoPreview.scrollIntoView({behavior:"smooth"})}let n=t.getAttribute("data-id");t.addEventListener("click",e)})}var carouselsContainers=document.querySelectorAll(".carrousel_container");const videoPreview=document.querySelector("#previewVideo"),API_KEY="AIzaSyAY92qoSUcTrzZ669HLcAh-Mx9KBKKfePo";carouselsContainers.forEach(function(t){let e=t.getAttribute("data-id");const n=`https://www.googleapis.com/youtube/v3/playlistItems?part=snippet,contentDetails&maxResults=12&playlistId=${e}&key=${API_KEY}`;fetch(n).then(t=>t.json()).then(e=>{const n=e.items.map(t=>({id:t.snippet.resourceId.videoId,title:t.snippet.title,thumbnail:t.snippet.thumbnails.default.url}));let i=t.querySelector(".carousel");i.innerHTML=" ";let o=buildPrevButton();t.prepend(o);let l=buildNextButton();t.append(l),n.forEach(function(t){let e=buildCarouselItem(t.id,t.title,t.thumbnail);i.appendChild(e)}),prevNextButtonActivate(),previewSelectorActivate()}).catch(t=>{console.error(t)})});